# =========================================================
#  RJM Tv - Auto M3U Merger Configuration (Final Version)
#  -------------------------------------------------------
#  Features:
#   â˜€ï¸ Smart time-based greetings (Morning / Afternoon / Evening / Night)
#   ğŸ” Displays "Last updated" & "Next update"
#   ğŸ“º Per-source channel summary
#   âš¡ RJMBTS branded footer
#   â± Auto-refresh every 15 minutes
# =========================================================

settings:
  source_list: creds.txt            # File containing list of all M3U source paths
  output_file: Master.m3u           # Output file to be generated
  update_interval: 15               # Update frequency (minutes)
  temp_dir: ./temp                  # Temporary working directory
  log_file: ./logs/m3u_merge.log    # Log file path

deduplication:
  enabled: true
  check_by: [extinf, url]           # Check duplicates using EXTINF + URL
  keep_first: true

grouping:
  enabled: true
  section_format: "# ${source_name}.m3u â€” Channels: ${channel_count}"

metadata_handling:
  preserve_original: true
  preserve_fields: 
    - tvg-id
    - tvg-name
    - tvg-logo
    - group-title
    - audio-track
    - aspect-ratio
  overwrite_missing: false

output_format:
  include_extm3u_header: true

  # ---------------------------------------------------------
  # â˜€ï¸ GOOD MORNING (06:00 â€“ 11:59 IST)
  # ---------------------------------------------------------
  custom_header_morning: |
    #EXTM3U billed-msg="RJM Tv - RJMBTS Network"
    # =========================================================
    # â˜€ï¸ Good Morning, RJM Viewers!
    # ğŸ¬ Pushed & Updated by Kittujk
    # ğŸ’» Coded & Scripted by @RJMBTS
    # ğŸ•’ Last updated on : ${timestamp_IST}
    # ğŸ” Next update     : ${next_update_IST}
    # ğŸ“Š Channels : Total - ${total_channels} | Updated - ${updated_channels}
    # ---------------------------------------------------------
    # ${source_summary}
    # =========================================================
  custom_footer_morning: |
    # =========================================================
    # â˜€ï¸ Start your Day with RJM Tv ğŸ“º
    # âš¡ Powered by RJMBTS âš¡
    # =========================================================

  # ---------------------------------------------------------
  # ğŸŒ¤ï¸ GOOD AFTERNOON (12:00 â€“ 15:59 IST)
  # ---------------------------------------------------------
  custom_header_afternoon: |
    #EXTM3U billed-msg="RJM Tv - RJMBTS Network"
    # =========================================================
    # ğŸŒ¤ï¸ Good Afternoon, RJM Viewers!
    # ğŸ¬ Pushed & Updated by Kittujk
    # ğŸ’» Coded & Scripted by @RJMBTS
    # ğŸ•’ Last updated on : ${timestamp_IST}
    # ğŸ” Next update     : ${next_update_IST}
    # ğŸ“Š Channels : Total - ${total_channels} | Updated - ${updated_channels}
    # ---------------------------------------------------------
    # ${source_summary}
    # =========================================================
  custom_footer_afternoon: |
    # =========================================================
    # ğŸŒ¤ï¸ Enjoy your Afternoon with RJM Tv ğŸ“º
    # âš¡ Powered by RJMBTS âš¡
    # =========================================================

  # ---------------------------------------------------------
  # ğŸŒ‡ GOOD EVENING (16:00 â€“ 17:59 IST)
  # ---------------------------------------------------------
  custom_header_evening: |
    #EXTM3U billed-msg="RJM Tv - RJMBTS Network"
    # =========================================================
    # ğŸŒ‡ Good Evening, RJM Viewers!
    # ğŸ¬ Pushed & Updated by Kittujk
    # ğŸ’» Coded & Scripted by @RJMBTS
    # ğŸ•’ Last updated on : ${timestamp_IST}
    # ğŸ” Next update     : ${next_update_IST}
    # ğŸ“Š Channels : Total - ${total_channels} | Updated - ${updated_channels}
    # ---------------------------------------------------------
    # ${source_summary}
    # =========================================================
  custom_footer_evening: |
    # =========================================================
    # ğŸŒ‡ Relax this Evening with RJM Tv ğŸ“º
    # âš¡ Powered by RJMBTS âš¡
    # =========================================================

  # ---------------------------------------------------------
  # ğŸŒ™ GOOD NIGHT (18:00 â€“ 05:59 IST)
  # ---------------------------------------------------------
  custom_header_night: |
    #EXTM3U billed-msg="RJM Tv - RJMBTS Network"
    # =========================================================
    # ğŸŒ™ Good Night, RJM Viewers!
    # ğŸŒ™ Pushed & Updated by Kittujk
    # ğŸ’» Coded & Scripted by @RJMBTS
    # ğŸ•’ Last updated on : ${timestamp_IST}
    # ğŸ” Next update     : ${next_update_IST}
    # ğŸ“Š Channels : Total - ${total_channels} | Updated - ${updated_channels}
    # ---------------------------------------------------------
    # ${source_summary}
    # =========================================================
  custom_footer_night: |
    # =========================================================
    # ğŸŒ™ Late Night with RJM Tv ğŸ“º
    # âš¡ Powered by RJMBTS âš¡
    # =========================================================

  indent_section_contents: false

logging:
  enabled: true
  level: INFO

runtime:
  clean_temp_on_exit: true
  max_retries_on_source_failure: 2
  retry_delay_seconds: 5

calculation:
  enabled: true
  auto_update_total_count: true
  auto_update_section_counts: true
  auto_update_updated_count: true
  auto_generate_source_summary: true
  emoji_assignment_enabled: true
  emoji_assignment_persistent: true
  emoji_mapping:
    default: ğŸ“º
  emoji_pool: [ğŸ“º]
  smart_greeting_enabled: true
  show_next_update: true
  greeting_ranges:
    morning_start_hour: 6
    afternoon_start_hour: 12
    evening_start_hour: 16
    night_start_hour: 18

example_files:
  creds.txt: |
    ./sources/z5.m3u
    ./sources/jiotv.m3u
    ./sources/sonyliv.m3u
    ./sources/hotstar.m3u
    ./sources/aha.m3u
    ./sources/voot.m3u

notes:
  - Smart Greetings (IST):
      â˜€ï¸ 06:00â€“11:59 â†’ Good Morning
      ğŸŒ¤ï¸ 12:00â€“15:59 â†’ Good Afternoon
      ğŸŒ‡ 16:00â€“17:59 â†’ Good Evening
      ğŸŒ™ 18:00â€“05:59 â†’ Good Night
  - â€œNext updateâ€ line auto-calculated 15 mins ahead.
  - Header/footer selected automatically by time of day.
  - Per-source channel summary auto-generated in header.
  - Preserves tvg-id, logos, and metadata.
  - Removes duplicate EXTINF + URLs.
  - Auto-refreshes every 15 minutes.
  - Fully branded: RJM Tv Ã— RJMBTS Network.
